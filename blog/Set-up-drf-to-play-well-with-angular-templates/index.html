<!DOCTYPE html><html lang="en" prefix="og: http://ogp.me/ns#"><head><meta name="generator" content="Hexo 3.8.0"><meta name="author" content="Connor Leech"><title>Set up Django Rest Framework (DRF) to play well with Angular.js templates</title><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta http-equiv="cleartype" content="on"><meta name="MobileOptimized" content="320"><meta name="HandheldFriendly" content="True"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><meta name="description" content="Django and Angular.js each have their own HTML templating libraries and systems. This post harmonizes the two of them in order to build Javascript rich web applications powered by Django and Django Rest Framework (DRF)"><meta name="keywords" content="laravel, aws, javascript, php, developer, software engineer, web development, software, node.js, serverless, lambda, san francisco, bay area, east bay, vue, vuejs, vue.js, vue 2, laravel 5, amazon web services"><meta name="zipcode" content="94501"><meta name="city" content="Alameda"><meta name="state" content="California"><meta name="country" content="United States"><meta name="language" content="EN"><meta property="og:site_name" content="Connor Leech Blog | Javascript and Laravel tutorials"><meta property="og:description" content="Get notified about the latest trends in web development, career growth and cloud infrastructure. I send emails about twice a month covering tutorials in Javascript, Laravel and Cloud"><meta property="og:image" content="http://i0.kym-cdn.com/photos/images/original/001/018/899/936.jpg"><meta property="og:title" content="Set up Django Rest Framework (DRF) to play well with Angular.js templates"><meta property="og:description" content="Django and Angular.js each have their own HTML templating libraries and systems. This post harmonizes the two of them in order to build Javascript rich web applications powered by Django and Django Rest Framework (DRF)"><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-70809574-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'UA-70809574-1');
</script><!-- Favicon--><link rel="shortcut icon" type="image/png" href="/images/favicon.ico"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"><!-- Vendor Fonts--><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" rel="stylesheet" type="text/css"><link href="/bower_components/animate.css/animate.min.css" rel="stylesheet" type="text/css"><link href="https://fonts.googleapis.com/css?family=Yantramanav" rel="stylesheet"><!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries--><!-- WARNING: Respond.js doesn't work if you view the page via file://--><!--if lt IE 9script(src='https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js')
script(src='https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js')
--><link rel="alternate" href="/atom.xml" title="config.title" type="application/rss2.xml"><link rel="stylesheet" href="/css/main.css"></head><body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top" class="post"><!-- Nav--><nav role="navigation" class="navbar navbar-custom navbar-fixed-top"><div class="container"><div class="navbar-header"><a href="https://employbl.com/" target="_blank" class="navbar-brand"><img src="/images/employbl_logo.svg" style="height:100px; width:100px;"></a><button type="button" data-toggle="collapse" data-target=".navbar-main-collapse" class="navbar-toggle"><i class="fa fa-bars"></i></button></div><div class="collapse navbar-collapse navbar-left navbar-main-collapse"></div><div class="collapse navbar-collapse navbar-right navbar-main-collapse"><ul class="nav navbar-nav"><li><a href="/blog" class="page-scroll">Blog ðŸ”¨</a></li><li><a href="/#about" class="page-scroll">Projects âš¡</a></li></ul></div></div></nav><main id="content"><div id="archive" class="container"><div class="row"> <div class="col-sm-2 col-md-2"><h3>Categories</h3><a href="/blog"><p>All</p></a><a href="/categories/Career"><p>Career</p></a><a href="/categories/Programming"><p>Programming</p></a><a href="/categories/Javascript"><p>Javascript</p></a><a href="/categories/Laravel"><p>Laravel</p></a><a href="/categories/Cloud"><p>Cloud</p></a><a href="/categories/PHP"><p>PHP</p></a></div><div class="col-xs-12 col-md-8"><article class="post"><div class="row"><div class="col-md-10 col-md-offset-1"><h1 class="post-title">Set up Django Rest Framework (DRF) to play well with Angular.js templates</h1></div></div><div class="row"><div class="post-meta"><h5><span>Connor Leech</span><span class="date"> - Oct 24, 2015&ensp;in<span class="post-categories">&ensp;<a href="/categories/Programming/" class="post-category">Programming</a></span></span></h5><a target="_blank" href="http://twitter.com/intent/tweet?status=Set up Django Rest Framework (DRF) to play well with Angular.js templates by @Connor11528+http://connorleech.info/blog/Set-up-drf-to-play-well-with-angular-templates/" class="btn btn-primary social-share twitter"><i class="fa fa-twitter fa-2x"><span class="hidden-xs"></span></i></a><a target="_blank" href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http://connorleech.info/blog/Set-up-drf-to-play-well-with-angular-templates/&amp;title=Set up Django Rest Framework (DRF) to play well with Angular.js templates&amp;source=connorleech.info" class="btn btn-primary social-share linkedin"><i class="fa fa-linkedin fa-2x"><span class="hidden-xs"></span></i></a></div></div><div class="post-body"><p>Create an app with django rest framework (drf) that uses angular.js on the frontend. This app will be built from the <a href="https://github.com/connor11528/django-drf-starter-project" target="_blank" rel="noopener">django-drf-starter-project</a>. If you are curious about how the django-drf-starter-project was built you can view the <a href="https://coderwall.com/p/ympo6g/create-a-starter-template-for-working-with-django-rest-framework?p=1&amp;q=" target="_blank" rel="noopener">tutorial here</a>.</p>
<p>The full <a href="https://github.com/connor11528/django-drf-angular-starter-project" target="_blank" rel="noopener">source code is here</a></p>
<p><img src="http://media.giphy.com/media/mxDZecDOOsWCA/giphy.gif" alt="Let&#39;s get started"></p>
<h3 id="Create-the-project"><a href="#Create-the-project" class="headerlink" title="Create the project"></a>Create the project</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">clone</span> git@github.com:connor11528/django-drf-starter-project.git</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> mv django-drf-starter-project django-drf-angular-starter-project</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> django-drf-angular-starter-project</span></span><br></pre></td></tr></table></figure>
<p>This downloads the code from part one and renames the project to angular name.</p>
<h3 id="Set-up-virtual-environment"><a href="#Set-up-virtual-environment" class="headerlink" title="Set up virtual environment"></a>Set up virtual environment</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">source</span> ~/.bash_profile</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> mkvirtualenv django-drf-angular-starter-project <span class="comment"># OR $ workon django-drf-angular-starter-project if you've already created the virtual environment</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> lsvirtualenv</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> pip install -r requirements.txt</span></span><br></pre></td></tr></table></figure>
<p>On my computer I have to source .bash_profile. Iâ€™m lazy and havenâ€™t fixed this. Hopefully you have <a href="https://virtualenvwrapper.readthedocs.org/en/latest/" target="_blank" rel="noopener">virtualenvwrapper</a> set up properly on your own machine. The last step installs django and django rest framework from requirements.txt.</p>
<h3 id="Modify-view"><a href="#Modify-view" class="headerlink" title="Modify view"></a>Modify view</h3><p>In the views last time we used django templates, now we want angular to handle the front end. Django will provide one template (<code>jsframework/templates/jsframework/base.html</code>). The rest of our frontend code will be stored in <code>jsframework/static/templates</code>. Angular will access this using <a href="https://github.com/angular-ui/ui-router" target="_blank" rel="noopener">ui-router</a>.</p>
<p>Send the base template </p>
<p><strong>jsframework/views.py:</strong>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">(request)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">'jsframework/base.html'</span>)</span><br></pre></td></tr></table></figure></p>
<p>Then in base.html modify it to load angular and use angular views. Delete the django template tags, add:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">ng-app</span>=<span class="string">'drf-angular'</span>&gt;</span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ui-view</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.15/angular.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.15/angular-ui-router.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="Write-angular"><a href="#Write-angular" class="headerlink" title="Write angular"></a>Write angular</h3><p><img src="http://cdn.meme.am/instances/500x/62550074.jpg" alt="don&#39;t get carried away"></p>
<p>Create an app, routes and a controller:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> app = angular.module(<span class="string">'drf-angular'</span>, [</span><br><span class="line">	<span class="string">'ui.router'</span></span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line">app.config(<span class="function"><span class="keyword">function</span><span class="params">($stateProvider, $urlRouterProvider)</span></span>&#123;</span><br><span class="line">	$stateProvider</span><br><span class="line">		.state(<span class="string">'home'</span>, &#123;</span><br><span class="line">			url: <span class="string">'/'</span>,</span><br><span class="line">			templateUrl: <span class="string">'/static/templates/home.html'</span>,</span><br><span class="line">			controller: <span class="string">'MainCtrl'</span></span><br><span class="line">		&#125;);</span><br><span class="line"></span><br><span class="line">	$urlRouterProvider.otherwise(<span class="string">'/'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.controller(<span class="string">'MainCtrl'</span>, <span class="function"><span class="keyword">function</span><span class="params">($scope)</span></span>&#123;</span><br><span class="line">	$scope.test = <span class="string">"I come from the angularz"</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>All of our angular templates will live in <code>jsframework/static/templates</code>. Reference them using the path specified in <code>templateUrl</code>.</p>
<p>All our routing will have <code>/#/</code>. Also we have not invented any models or serializers, but weâ€™ve set up a server and handling angular on the frontend.</p>
<p>The full <a href="https://github.com/connor11528/django-drf-angular-starter-project" target="_blank" rel="noopener">source code is here</a></p>
</div><div id="disqus_thread"></div></article><nav class="pagination"><a href="/blog/Code-samples-to-guide-you-through-the-React-ecosystem/" title="Code samples to guide you through the React ecosystem" class="btn-default entry-pagination__link entry-pagination__link--prev">Prev</a><a href="/blog/Build-a-blog-with-the-MEAN-stack-part-1/" title="Build a blog with the MEAN stack (part 1)" class="btn-default entry-pagination__link entry-pagination__link--next">Next</a></nav></div></div></div></main><footer class="footer"><div class="container"><div class="row"><div class="col-sm-6"><h4>Connor's Dev Newsletter</h4><p>Very occassional updates. You're free to sign up.</p><ul><li><form action="//herokuapp.us14.list-manage.com/subscribe/post?u=42dd73a709fbadb4a29ef1d0d&amp;amp;id=b77fdad58d" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" target="_blank" novalidate="" class="validate"><div class="input-group"><input type="email" value="" name="EMAIL" id="mce-EMAIL" placeholder="Enter your email here" class="required email form-control input-lg"><div id="mce-error-response" style="display:none" class="response"></div><div id="mce-success-response" style="display:none" class="response"></div><div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_42dd73a709fbadb4a29ef1d0d_b77fdad58d" tabindex="-1" value=""></div><span class="input-group-btn"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="btn btn-primary btn-lg"></span></div></form></li></ul></div><div class="col-sm-2 col-sm-offset-1"><h4>Connect</h4><ul><li> <a target="_blank" href="https://github.com/connor11528">GitHub</a></li><li> <a target="_blank" href="https://www.linkedin.com/in/connorleech">LinkedIn</a></li><li> <a target="_blank" href="https://twitter.com/connor11528">Twitter</a></li><li><a target="_blank" href="https://medium.com/@connorleech">Medium</a></li><li><a target="_blank" href="https://stackoverflow.com/users/2031033/connor-leech">Stackoverflow</a></li><li><a target="_blank" href="https://plus.google.com/u/0/+ConnorLeech">Google+</a></li></ul></div><div class="col-sm-3"><h4>Email</h4><ul><li> <a href="mailto:connorleech@gmail.com">connorleech@gmail.com</a></li></ul></div></div></div></footer><!-- vendor--><script src="/bower_components/jquery/dist/jquery.min.js"></script><script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script><script src="/bower_components/wow/dist/wow.min.js"></script><script src="/bower_components/jquery-easing/jquery.easing.min.js"></script><script src="/bower_components/jquery-color/jquery.color.js"></script><script src="/bower_components/scrollmagic/scrollmagic/minified/ScrollMagic.min.js"></script><script src="/bower_components/scrollmagic/scrollmagic/minified/plugins/debug.addIndicators.min.js"></script><script src="/bower_components/vivus/dist/vivus.min.js"></script><!-- require modules--><script src="/js/require.js"></script><script src="/js/app.js"></script><!-- analytics--><!-- disqus--><script>(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://connorleech.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();</script></body></html>