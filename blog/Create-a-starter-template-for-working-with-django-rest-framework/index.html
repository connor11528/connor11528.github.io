<!DOCTYPE html><html lang="en" prefix="og: http://ogp.me/ns#"><head><meta name="generator" content="Hexo 3.8.0"><meta name="author" content="Connor Leech"><title>Create a starter template for working with django-rest-framework</title><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta http-equiv="cleartype" content="on"><meta name="MobileOptimized" content="320"><meta name="HandheldFriendly" content="True"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><meta name="description" content="During RocketU coding bootcamp we built a lot of Django projects. I created a base starter template in order to save time. The template allows users to create JSON APIs quickly using Django and Django Rest Framework (DRF)"><meta name="keywords" content="laravel, aws, javascript, php, developer, software engineer, web development, software, node.js, serverless, lambda, san francisco, bay area, east bay, vue, vuejs, vue.js, vue 2, laravel 5, amazon web services"><meta name="zipcode" content="94501"><meta name="city" content="Alameda"><meta name="state" content="California"><meta name="country" content="United States"><meta name="language" content="EN"><meta property="og:site_name" content="Connor Leech Blog | Javascript and Laravel tutorials"><meta property="og:description" content="Get notified about the latest trends in web development, career growth and cloud infrastructure. I send emails about twice a month covering tutorials in Javascript, Laravel and Cloud"><meta property="og:image" content="http://i0.kym-cdn.com/photos/images/original/001/018/899/936.jpg"><meta property="og:title" content="Create a starter template for working with django-rest-framework"><meta property="og:description" content="During RocketU coding bootcamp we built a lot of Django projects. I created a base starter template in order to save time. The template allows users to create JSON APIs quickly using Django and Django Rest Framework (DRF)"><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-70809574-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'UA-70809574-1');
</script><!-- Favicon--><link rel="shortcut icon" type="image/png" href="/images/favicon.ico"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"><!-- Vendor Fonts--><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" rel="stylesheet" type="text/css"><link href="/bower_components/animate.css/animate.min.css" rel="stylesheet" type="text/css"><link href="https://fonts.googleapis.com/css?family=Yantramanav" rel="stylesheet"><!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries--><!-- WARNING: Respond.js doesn't work if you view the page via file://--><!--if lt IE 9script(src='https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js')
script(src='https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js')
--><link rel="alternate" href="/atom.xml" title="config.title" type="application/rss2.xml"><link rel="stylesheet" href="/css/main.css"></head><body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top" class="post"><!-- Nav--><nav role="navigation" class="navbar navbar-custom navbar-fixed-top"><div class="container"><div class="navbar-header"><a href="https://employbl.com/" target="_blank" class="navbar-brand"><img src="/images/employbl_logo.svg" style="height:100px; width:100px;"></a><button type="button" data-toggle="collapse" data-target=".navbar-main-collapse" class="navbar-toggle"><i class="fa fa-bars"></i></button></div><div class="collapse navbar-collapse navbar-left navbar-main-collapse"></div><div class="collapse navbar-collapse navbar-right navbar-main-collapse"><ul class="nav navbar-nav"><li><a href="/blog" class="page-scroll">Blog üî®</a></li><li><a href="/#about" class="page-scroll">Projects ‚ö°</a></li></ul></div></div></nav><main id="content"><div id="archive" class="container"><div class="row"> <div class="col-sm-2 col-md-2"><h3>Categories</h3><a href="/blog"><p>All</p></a><a href="/categories/Career"><p>Career</p></a><a href="/categories/Programming"><p>Programming</p></a><a href="/categories/Javascript"><p>Javascript</p></a><a href="/categories/Laravel"><p>Laravel</p></a><a href="/categories/Cloud"><p>Cloud</p></a><a href="/categories/PHP"><p>PHP</p></a></div><div class="col-xs-12 col-md-8"><article class="post"><div class="row"><div class="col-md-10 col-md-offset-1"><h1 class="post-title">Create a starter template for working with django-rest-framework</h1></div></div><div class="row"><div class="post-meta"><h5><span>Connor Leech</span><span class="date"> - Oct 23, 2015&ensp;in<span class="post-categories">&ensp;<a href="/categories/Programming/" class="post-category">Programming</a></span></span></h5><a target="_blank" href="http://twitter.com/intent/tweet?status=Create a starter template for working with django-rest-framework by @Connor11528+http://connorleech.info/blog/Create-a-starter-template-for-working-with-django-rest-framework/" class="btn btn-primary social-share twitter"><i class="fa fa-twitter fa-2x"><span class="hidden-xs"></span></i></a><a target="_blank" href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http://connorleech.info/blog/Create-a-starter-template-for-working-with-django-rest-framework/&amp;title=Create a starter template for working with django-rest-framework&amp;source=connorleech.info" class="btn btn-primary social-share linkedin"><i class="fa fa-linkedin fa-2x"><span class="hidden-xs"></span></i></a></div></div><div class="post-body"><p>See the <a href="https://github.com/connor11528/django-drf-starter-project" target="_blank" rel="noopener">source code here</a>.</p>
<p>Django rest framework serializes data from structured databases (Postgres, Mysql, Sqlite) into JSON. Django provides the server and database management. <a href="http://www.django-rest-framework.org/" target="_blank" rel="noopener">Django rest framework</a> converts the structured data into javascript object notation, which gets sent to the browser. Modern frontend javascript frameworks like angular, backbone and react all like to eat JSON. This workflow gets a django project set up with the rest framework.</p>
<h3 id="Set-up-virtual-environment"><a href="#Set-up-virtual-environment" class="headerlink" title="Set up virtual environment"></a>Set up virtual environment</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">source</span> ~/.bash_profile</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> lsvirtualenv</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> mkvirtualenv django-drf-starter-project <span class="comment"># OR $ workon django-drf-starter-project</span></span></span><br></pre></td></tr></table></figure>
<h3 id="Create-django-app"><a href="#Create-django-app" class="headerlink" title="Create django app"></a>Create django app</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> django-admin startproject django_drf_starter_project</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> django_drf_starter_project</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> pip install django djangorestframework</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> pip freeze &gt; requirements.txt</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ./manage.py runserver</span></span><br></pre></td></tr></table></figure>
<p>You should see ‚ÄúIt worked!‚Äù at localhost:8000. (control + C stops server on mac). If you‚Äôre using git also copy and paste in the <code>.gitignore</code> file from here so you don‚Äôt commit garbage to version control.</p>
<h3 id="Create-a-new-app"><a href="#Create-a-new-app" class="headerlink" title="Create a new app"></a>Create a new app</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ./manage.py startapp jsframework</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> mkdir jsframework/templates</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> mkdir jsframework/templates/jsframework</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> touch jsframework/templates/jsframework/index.html jsframework/templates/jsframework/base.html</span></span><br></pre></td></tr></table></figure>
<p>This creates a new app called jsframework within the django_drf_starter_project project. We also set up a templates folder where we will display our html templates. I made another folder called jsframework inside the templates directory. I know it looks a bit weird. We do this so we can namespace our templates later on when declaring routes. Django will automagically look in the <code>templates</code> directory for every app when compiling templates.</p>
<h3 id="Let-django-know-about-it"><a href="#Let-django-know-about-it" class="headerlink" title="Let django know about it"></a>Let django know about it</h3><p>Modify <code>django_drf_starter_project/settings.py</code> to include the rest_framework app that we installed via pip and our jsframework app we created from the cli.</p>
<figure class="highlight sml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">INSTALLED_APPS</span> = (</span><br><span class="line">    <span class="symbol">'django</span>.contrib.admin',</span><br><span class="line">    <span class="symbol">'django</span>.contrib.auth',</span><br><span class="line">    <span class="symbol">'django</span>.contrib.contenttypes',</span><br><span class="line">    <span class="symbol">'django</span>.contrib.sessions',</span><br><span class="line">    <span class="symbol">'django</span>.contrib.messages',</span><br><span class="line">    <span class="symbol">'django</span>.contrib.staticfiles',</span><br><span class="line">    <span class="symbol">'rest_framework'</span>,</span><br><span class="line">    <span class="symbol">'jsframework'</span>,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>Also sync your database. Django will use sqlite as default. Run <code>./manage.py migrate</code> after updating your installed apps. A <code>db.sqlite3</code> file will get generated automagically. Our database is now in sync.</p>
<p><img src="http://media.giphy.com/media/XdlEHQpoHhy0g/giphy.gif" alt="migrate it"></p>
<h3 id="Render-templates-to-browser"><a href="#Render-templates-to-browser" class="headerlink" title="Render templates to browser"></a>Render templates to browser</h3><p>Create a <code>urls.py</code> file inside of the jsframework app. I know this is a bit convoluted since we already have a urls.py file in the project directory. We create a urls.py inside jsframework to hold all of the routes for the jsframework app. It‚Äôs seperation of concerns.</p>
<p>Define our route:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.conf.urls <span class="keyword">import</span> url</span><br><span class="line"><span class="keyword">from</span> . <span class="keyword">import</span> views</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    url(<span class="string">r'^$'</span>, views.index, name=<span class="string">'index'</span>),</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>Now we need to define the <code>index</code> view. If you‚Äôre coming from rails or anything, a view in django is more like a controller. Templates are more like views. If that confused you, ignore it.</p>
<p>jsframework/views.py
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">(request)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">'jsframework/index.html'</span>)</span><br></pre></td></tr></table></figure></p>
<p>Put text into <code>jsframework/templates/jsframework/index.html</code> so you have something to see. The file path is silly but hopefully you can see now why we namespace. Django automatically looks in templates directory for every app. If we had multiple apps the index.html path could get messy.</p>
<p>Now let the main project <code>urls.py</code> now about the routes that we defined for our jsframework app. That is really simple. Add this line: <code>url(r&#39;^/?&#39;, include(&#39;jsframework.urls&#39;)),</code>. That imports the routes from one url file into the other.</p>
<p>You‚Äôll see text on the screen.</p>
<h3 id="Template-inheritance"><a href="#Template-inheritance" class="headerlink" title="Template inheritance"></a>Template inheritance</h3><p>We want index.html to inherit from base.html. Add to base.html:</p>
<figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="meta">&lt;!DOCTYPE html&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Let's get djangtahstie<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml">        </span><span class="template-tag">&#123;% <span class="name"><span class="name">block</span></span> content %&#125;</span><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">endblock</span></span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>Add to index.html:
<figure class="highlight nimrod"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;% extends <span class="string">"jsframework/base.html"</span> %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% <span class="keyword">block</span> content %&#125;</span><br><span class="line">	<span class="type">What</span> up world?</span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line"><span class="comment">### Add static files</span></span><br><span class="line"></span><br><span class="line"><span class="type">Now</span> we want to <span class="keyword">include</span> our javascript <span class="keyword">and</span> css files</span><br><span class="line"></span><br><span class="line">![<span class="type">Suits</span>](http://media.tumblr.com/tumblr_m9un52Tttv1r7tvni.gif)</span><br><span class="line"></span><br><span class="line"><span class="type">Adding</span> <span class="keyword">from</span> cdn <span class="keyword">is</span> really easy, it's the same <span class="keyword">as</span> normal. <span class="type">If</span> you want to <span class="keyword">include</span> local <span class="keyword">static</span> files things are a bit different. <span class="type">In</span> settings.py there <span class="keyword">is</span> a line `<span class="type">STATIC_URL</span> = '/<span class="keyword">static</span>/'` that tells django to look <span class="keyword">in</span> folders within apps called <span class="keyword">static</span> <span class="keyword">for</span> <span class="keyword">static</span> files. <span class="type">Create</span> that inside jsframework <span class="keyword">as</span> well <span class="keyword">as</span> directories <span class="keyword">for</span> css, images <span class="keyword">and</span> js.</span><br></pre></td></tr></table></figure></p>
<p>$ mkdir jsframework/static
$ mkdir jsframework/static/js jsframework/static/css jsframework/static/img
$ touch $ mkdir jsframework/static/js/main.js jsframework/static/css/main.css
<figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">In</span> base.html <span class="keyword">add</span> `<span class="comment">&#123;% load staticfiles %&#125;</span>` <span class="keyword">to</span> line <span class="number">1</span>. <span class="keyword">Then</span> <span class="keyword">reference</span> script/link tags like so:</span><br></pre></td></tr></table></figure></p>
<p><link rel="stylesheet" href="/css/main.css"></p>
<p><script src="/js/main.js"></script>
<code>`</code></p>
<p>See the <a href="https://github.com/connor11528/django-drf-starter-project" target="_blank" rel="noopener">source code here</a></p>
</div><div id="disqus_thread"></div></article><nav class="pagination"><a href="/blog/use-express-angular-and-jwt-to-make-a-secure-app/" title="Use Express, Angular 1.x and JWT to make a secure app" class="btn-default entry-pagination__link entry-pagination__link--prev">Prev</a><a href="/blog/How-to-use-the-angular-leaflet-directive/" title="Make Maps with Angular 1.x and Leaflet using Directives" class="btn-default entry-pagination__link entry-pagination__link--next">Next</a></nav></div></div></div></main><footer class="footer"><div class="container"><div class="row"><div class="col-sm-6"><h4>Connor's Dev Newsletter</h4><p>Very occassional updates. You're free to sign up.</p><ul><li><form action="//herokuapp.us14.list-manage.com/subscribe/post?u=42dd73a709fbadb4a29ef1d0d&amp;amp;id=b77fdad58d" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" target="_blank" novalidate="" class="validate"><div class="input-group"><input type="email" value="" name="EMAIL" id="mce-EMAIL" placeholder="Enter your email here" class="required email form-control input-lg"><div id="mce-error-response" style="display:none" class="response"></div><div id="mce-success-response" style="display:none" class="response"></div><div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_42dd73a709fbadb4a29ef1d0d_b77fdad58d" tabindex="-1" value=""></div><span class="input-group-btn"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="btn btn-primary btn-lg"></span></div></form></li></ul></div><div class="col-sm-2 col-sm-offset-1"><h4>Connect</h4><ul><li> <a target="_blank" href="https://github.com/connor11528">GitHub</a></li><li> <a target="_blank" href="https://www.linkedin.com/in/connorleech">LinkedIn</a></li><li> <a target="_blank" href="https://twitter.com/connor11528">Twitter</a></li><li><a target="_blank" href="https://medium.com/@connorleech">Medium</a></li><li><a target="_blank" href="https://stackoverflow.com/users/2031033/connor-leech">Stackoverflow</a></li><li><a target="_blank" href="https://plus.google.com/u/0/+ConnorLeech">Google+</a></li></ul></div><div class="col-sm-3"><h4>Email</h4><ul><li> <a href="mailto:connorleech@gmail.com">connorleech@gmail.com</a></li></ul></div></div></div></footer><!-- vendor--><script src="/bower_components/jquery/dist/jquery.min.js"></script><script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script><script src="/bower_components/wow/dist/wow.min.js"></script><script src="/bower_components/jquery-easing/jquery.easing.min.js"></script><script src="/bower_components/jquery-color/jquery.color.js"></script><script src="/bower_components/scrollmagic/scrollmagic/minified/ScrollMagic.min.js"></script><script src="/bower_components/scrollmagic/scrollmagic/minified/plugins/debug.addIndicators.min.js"></script><script src="/bower_components/vivus/dist/vivus.min.js"></script><!-- require modules--><script src="/js/require.js"></script><script src="/js/app.js"></script><!-- analytics--><!-- disqus--><script>(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://connorleech.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();</script></body></html>